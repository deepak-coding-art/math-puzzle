(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{34:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play",function(){return i(1045)}])},587:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var n=i(5893),o=i(3695),r=i.n(o),a=i(887),s=i(4285);function c(e){let{id:t,children:i}=e,{attributes:o,listeners:c,setNodeRef:l,transform:u}=(0,a.O1)({id:t}),d={transform:s.ux.Translate.toString(u)};return(0,n.jsx)("h1",{ref:l,style:d,...c,...o,className:r().dragBoxCont,children:i})}},2104:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var n=i(5893),o=i(887),r=i(3695),a=i.n(r);function s(e){let{id:t,children:i,type:r}=e,{isOver:s,setNodeRef:c}=(0,o.Zj)({id:t});return(0,n.jsx)("div",{ref:c,className:"".concat("unsolved"===r?"".concat(a().dropBoxContUnsolved):"".concat(a().dropBoxContSolved)),children:i})}},9763:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var n=i(5893),o=i(7717),r=i.n(o),a=i(6147);function s(e){let{box:t}=e;return(0,n.jsx)("div",{className:r().playBoxCont,children:(0,n.jsxs)("div",{className:r().playBoxContSides,children:[(0,n.jsx)("div",{className:"".concat(r().playBoxSides," ").concat(r().playBoxSideLeft),children:(0,n.jsx)(a.Z,{expression:t.left.equation})}),(0,n.jsx)("div",{className:"".concat(r().playBoxSides," ").concat(r().playBoxSideRight),children:(0,n.jsx)(a.Z,{expression:t.right.equation})}),(0,n.jsx)("div",{className:"".concat(r().playBoxSides," ").concat(r().playBoxSideTop),children:(0,n.jsx)(a.Z,{expression:t.top.equation})}),(0,n.jsx)("div",{className:"".concat(r().playBoxSides," ").concat(r().playBoxSideBottom),children:(0,n.jsx)(a.Z,{expression:t.bottom.equation})})]})})}},1045:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return P}});var n=i(5893),o=i(9008),r=i.n(o),a=i(3695),s=i.n(a),c=i(7294),l=i(6403),u=i(9763),d=i(887),h=i(587),f=i(2104);let p=[[{index:1,side:"right",otherSide:"left"},{index:3,side:"bottom",otherSide:"top"}],[{index:0,side:"left",otherSide:"right"},{index:2,side:"right",otherSide:"left"},{index:4,side:"bottom",otherSide:"top"}],[{index:1,side:"left",otherSide:"right"},{index:5,side:"bottom",otherSide:"top"}],[{index:0,side:"top",otherSide:"bottom"},{index:4,side:"right",otherSide:"left"},{index:6,side:"bottom",otherSide:"top"}],[{index:3,side:"left",otherSide:"right"},{index:5,side:"right",otherSide:"left"},{index:1,side:"top",otherSide:"bottom"},{index:7,side:"bottom",otherSide:"top"}],[{index:2,side:"top",otherSide:"bottom"},{index:4,side:"left",otherSide:"right"},{index:8,side:"bottom",otherSide:"top"}],[{index:7,side:"right",otherSide:"left"},{index:3,side:"top",otherSide:"bottom"}],[{index:6,side:"left",otherSide:"right"},{index:8,side:"right",otherSide:"left"},{index:4,side:"top",otherSide:"bottom"}],[{index:7,side:"left",otherSide:"right"},{index:5,side:"top",otherSide:"bottom"}]],x=[[{index:1,side:"right",otherSide:"left"},{index:4,side:"bottom",otherSide:"top"}],[{index:0,side:"left",otherSide:"right"},{index:2,side:"right",otherSide:"left"},{index:5,side:"bottom",otherSide:"top"}],[{index:1,side:"left",otherSide:"right"},{index:3,side:"right",otherSide:"left"},{index:6,side:"bottom",otherSide:"top"}],[{index:2,side:"left",otherSide:"right"},{index:7,side:"bottom",otherSide:"top"}],[{index:5,side:"right",otherSide:"left"},{index:0,side:"top",otherSide:"bottom"},{index:8,side:"bottom",otherSide:"top"}],[{index:4,side:"left",otherSide:"right"},{index:6,side:"right",otherSide:"left"},{index:9,side:"bottom",otherSide:"top"},{index:1,side:"top",otherSide:"bottom"}],[{index:5,side:"left",otherSide:"right"},{index:7,side:"right",otherSide:"left"},{index:10,side:"bottom",otherSide:"top"},{index:2,side:"top",otherSide:"bottom"}],[{index:6,side:"left",otherSide:"right"},{index:11,side:"bottom",otherSide:"top"},{index:3,side:"top",otherSide:"bottom"}],[{index:9,side:"right",otherSide:"left"},{index:4,side:"top",otherSide:"bottom"},{index:12,side:"bottom",otherSide:"top"}],[{index:8,side:"left",otherSide:"right"},{index:10,side:"right",otherSide:"left"},{index:13,side:"bottom",otherSide:"top"},{index:5,side:"top",otherSide:"bottom"}],[{index:9,side:"left",otherSide:"right"},{index:11,side:"right",otherSide:"left"},{index:14,side:"bottom",otherSide:"top"},{index:6,side:"top",otherSide:"bottom"}],[{index:10,side:"left",otherSide:"right"},{index:15,side:"bottom",otherSide:"top"},{index:7,side:"top",otherSide:"bottom"}],[{index:13,side:"right",otherSide:"left"},{index:8,side:"top",otherSide:"bottom"}],[{index:12,side:"left",otherSide:"right"},{index:14,side:"right",otherSide:"left"},{index:9,side:"top",otherSide:"bottom"}],[{index:13,side:"left",otherSide:"right"},{index:15,side:"right",otherSide:"left"},{index:10,side:"top",otherSide:"bottom"}],[{index:14,side:"left",otherSide:"right"},{index:11,side:"top",otherSide:"bottom"}]];var y=i(4053),v=i(8844),g=i(1163),b=function(){let[e,t]=(0,c.useState)({width:0,height:0}),i=()=>{t({width:window.innerWidth,height:window.innerHeight})};return(0,c.useEffect)(()=>{i(),window.addEventListener("resize",i)},[]),e},m=i(725),S=i.n(m);function w(){let{width:e,height:t}=b();return(0,n.jsx)(S(),{width:e,height:t})}var _=i(3478),O=i(4507);function j(e){let{setShowIt:t}=e,[i,o]=(0,c.useState)(3);return(0,c.useEffect)(()=>{let e=setInterval(()=>{if(i<=1){t(!0),clearInterval(e);return}o(e=>(console.log(e),e-1))},1e3);return()=>clearInterval(e)},[i]),(0,n.jsxs)("div",{className:s().counterCont,children:[(0,n.jsxs)("h1",{className:s().counterTitle,children:["Du samlede puslespillet! ",(0,n.jsx)("br",{})," Her er billedet:"]}),(0,n.jsx)("h1",{className:s().counter,children:i})]})}function P(){let e=(0,y.useSupabaseClient)(),[t,i]=(0,c.useState)(!0),[o,a]=(0,c.useState)(l.a3),[b,m]=(0,c.useState)(null),[S,P]=(0,c.useState)([]),[C,I]=(0,c.useState)([]),[M,B]=(0,c.useState)(!1),[E,k]=(0,c.useState)(null),[N,z]=(0,c.useState)(null),[D,A]=(0,c.useState)(null),[R,T]=(0,c.useState)(null),[q,F]=(0,c.useState)(null),[Z,Q]=(0,c.useState)(null),[G,L]=(0,c.useState)(null),{query:Y,isReady:U}=(0,g.useRouter)();function W(e,t){let i=null;return e.every((e,n)=>{if(e.id===t){i=n;return}return!0}),i}function V(e){return parseInt(e.split("-")[1])}return(0,c.useEffect)(()=>{let t=async(t,n)=>{let o="puzzles";"admin"===n&&(o="admin_puzzles");let{data:r,error:s}=await e.from(o).select("*").eq("id",t).eq("show",!0);if(r&&r.length<=0||s){console.log({puzzle:r,error:s}),L("Beklager ingen puslespil fundet."),i(null);return}let c=r[0].boxes.data,l=r[0].size,u=r[0].image,d=function(e){let t=e.length,i;for(;0!=t;)i=Math.floor(Math.random()*t),t--,[e[t],e[i]]=[e[i],e[t]];return e}(c);m(l),a(d);let h=new Audio(O.jk.beep),f=new Audio(O.jk.winAudio);Q(f),F(h);let{data:p}=e.storage.from("images").getPublicUrl(u);A(p.publicUrl),i(null)},n=async e=>{e&&(Y&&Y.id&&Y.type&&Y.id.length>30&&Y.id.length<40?await t(Y.id,Y.type):(L("Beklager ugyldig puslespils-URL."),i(null)))};n(U)},[U]),(0,c.useEffect)(()=>{o&&o.length>0&&(P(()=>{let e=[];return o.forEach((t,i)=>{e.push({id:"puzzlePice-".concat(i),data:t,component:(0,n.jsx)(h.Z,{id:"puzzlePice-".concat(i),children:(0,n.jsx)(u.Z,{box:t})},"puzzlePice-".concat(i))})}),e}),I(()=>{let e=[];return o.forEach((t,i)=>{e.push({})}),e}))},[o]),(0,c.useEffect)(()=>{if(C.length>0){let e=C.every(e=>!e||!!e.id);if(e){let t=C.every((e,t)=>{let i;return C.length<10?i=function(e,t,i){let n=p[i];return n.every(i=>{let n=e[i.index];if(n&&!n.id);else{let{data:e}=n,o=t.data[i.side],r=e[i.otherSide];if(t.data.id===e.id)return!0;if(o.connect_id!==r.connect_id)return!1}return!0})}(C,e,t):C.length>10&&(i=function(e,t,i){let n=x[i];return n.every(i=>{let n=e[i.index];if(n&&!n.id);else{let{data:e}=n,o=t.data[i.side],r=e[i.otherSide];if(t.data.id===e.id)return!0;if(o.connect_id!==r.connect_id)return!1}return!0})}(C,e,t)),i});t?(B(e),e&&E&&Z.play()):(T(!0),setTimeout(()=>{T(null)},5e3))}}},[C,E]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:"Math Puzzle | Play"}),(0,n.jsx)("meta",{name:"description",content:"A math puzzle that students can solve and teachers can create new puzzles. share with student to solve."}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),t?(0,n.jsx)(v.Z,{}):(0,n.jsxs)("main",{className:s().container,style:{touchAction:"none",overflow:"hidden",height:"100vh",height:"100dvh"},children:[G?(0,n.jsx)("h1",{children:G}):(0,n.jsxs)(n.Fragment,{children:[M?E?(0,n.jsx)(w,{}):(0,n.jsx)(j,{setShowIt:k}):(0,n.jsxs)(d.LB,{onDragStart:function(e){let t=e.active.id,i=W(S,t),n=W(C,t),o=null;null!==i&&i>=0?o={...S[i]}:null!==n&&n>=0&&(o={...C[n]}),z(o)},onDragEnd:function(e){let{over:t}=e;if(null===t){let e={...N},t=W(S,e.id);if(W(C,e.id),null!==t&&t>=0);else{let t=W(C,e.id);I(e=>{let i=[...e];return i[t]={},i}),P(t=>{let i=[...t];return i.unshift(e),i})}}if(t&&t.id){let e={...N},i=W(S,e.id),n=W(C,e.id);if(null!==i&&i>=0&&"unsolved"!==t.id){let i=V(t.id);if(!C[i].id){let t=W(S,e.id);I(t=>{let n=[...t];return n[i]=e,n}),P(e=>{let i=[...e];return i.splice(t,1),i}),q.play()}}else if(null!==n&&n>=0&&"unsolved"===t.id){let t=W(C,e.id);I(e=>{let i=[...e];return i[t]={},i}),P(t=>{let i=[...t];return i.unshift(e),i}),q.play()}else if(null!==n&&n>=0&&"unsolved"!==t.id){let i=V(t.id);if(i!==n&&!C[i].id){let t=W(C,e.id);I(n=>{let o=[...n];return o[t]={},o[i]=e,o}),q.play()}}}z(null)},children:[(0,n.jsx)("h1",{className:s().title,children:"Velkommen til Geeksters puslespil: l\xe6g brikkerne vha. matematik"}),(0,n.jsx)("div",{className:"".concat(s().gridContainer," ").concat("4x4"===b&&"".concat(s().gridContainer4)),children:C.map((e,t)=>(0,n.jsx)(f.Z,{id:"solvable-".concat(t),type:"solved",children:(0,n.jsx)("div",{className:"".concat(s().puzzlePlace," ").concat(e&&e.id&&"".concat(s().puzzlePlaced)),children:e&&e.id?e.component:(0,n.jsx)("h4",{className:s().placePlaceholder,children:"L\xe6g brik"})})},"solvable-".concat(t)))}),(0,n.jsx)("div",{className:s().unsolvedPieces,children:(0,n.jsx)(f.Z,{id:"unsolved",type:"unsolved",children:S.map(e=>e.component)})}),(0,n.jsx)(d.y9,{children:N&&N.id?N.component:null}),R&&(0,n.jsx)("div",{className:s().looseContainer,onClick:()=>T(null),children:(0,n.jsx)("h1",{className:s().looseMessage,children:"Der er nogle brikker der ikke passer sammen endnu Pr\xf8v igen"})})]}),(0,n.jsx)("img",{className:"".concat(s().winImage," ").concat(!E&&"".concat(s().hideImage)),src:D,alt:"win-image"})]}),(0,n.jsx)(_.Z,{})]})]})}},3695:function(e){e.exports={container:"play_container__KAmub",title:"play_title__KvsLy",gridContainer:"play_gridContainer__0IwKn",gridContainer4:"play_gridContainer4__2HoiM",puzzlePlace:"play_puzzlePlace__CxmhQ",unsolvedPieces:"play_unsolvedPieces__dtZVC",dropBoxContUnsolved:"play_dropBoxContUnsolved__iyLA2",dragBoxCont:"play_dragBoxCont__BnRH3",placePlaceholder:"play_placePlaceholder__wnNry",puzzlePlaced:"play_puzzlePlaced__slUfd",winImage:"play_winImage__9s_ac",looseContainer:"play_looseContainer__Y89i9",looseMessage:"play_looseMessage__I71qP",hideImage:"play_hideImage__qItYG",counterCont:"play_counterCont__WaERY",counterTitle:"play_counterTitle__hP2oG",counter:"play_counter__JuocL"}},7717:function(e){e.exports={playBoxCont:"playBox_playBoxCont__woE88",playBoxContSides:"playBox_playBoxContSides__4MKQk",playBoxSides:"playBox_playBoxSides__Ld1cW",playBoxSideLeft:"playBox_playBoxSideLeft__KkEcQ",playBoxSideRight:"playBox_playBoxSideRight__yGGMj",playBoxSideTop:"playBox_playBoxSideTop__X7xMt",playBoxSideBottom:"playBox_playBoxSideBottom__GsRxO"}},725:function(e,t,i){var n;"undefined"!=typeof self&&self,e.exports=(n=i(7294),function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,(function(t){return e[t]}).bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t){e.exports=n},function(e,t,i){"use strict";var n={linear:function(e,t,i,n){return(i-t)*e/n+t},easeInQuad:function(e,t,i,n){return(i-t)*(e/=n)*e+t},easeOutQuad:function(e,t,i,n){return-(i-t)*(e/=n)*(e-2)+t},easeInOutQuad:function(e,t,i,n){var o=i-t;return(e/=n/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,i,n){return(i-t)*(e/=n)*e*e+t},easeOutCubic:function(e,t,i,n){return(i-t)*((e=e/n-1)*e*e+1)+t},easeInOutCubic:function(e,t,i,n){var o=i-t;return(e/=n/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,i,n){return(i-t)*(e/=n)*e*e*e+t},easeOutQuart:function(e,t,i,n){return-(i-t)*((e=e/n-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,i,n){var o=i-t;return(e/=n/2)<1?o/2*e*e*e*e+t:-o/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,i,n){return(i-t)*(e/=n)*e*e*e*e+t},easeOutQuint:function(e,t,i,n){return(i-t)*((e=e/n-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,i,n){var o=i-t;return(e/=n/2)<1?o/2*e*e*e*e*e+t:o/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,i,n){var o=i-t;return-o*Math.cos(e/n*(Math.PI/2))+o+t},easeOutSine:function(e,t,i,n){return(i-t)*Math.sin(e/n*(Math.PI/2))+t},easeInOutSine:function(e,t,i,n){return-(i-t)/2*(Math.cos(Math.PI*e/n)-1)+t},easeInExpo:function(e,t,i,n){return 0==e?t:(i-t)*Math.pow(2,10*(e/n-1))+t},easeOutExpo:function(e,t,i,n){var o=i-t;return e==n?t+o:o*(1-Math.pow(2,-10*e/n))+t},easeInOutExpo:function(e,t,i,n){var o=i-t;return 0===e?t:e===n?t+o:(e/=n/2)<1?o/2*Math.pow(2,10*(e-1))+t:o/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,i,n){return-(i-t)*(Math.sqrt(1-(e/=n)*e)-1)+t},easeOutCirc:function(e,t,i,n){return(i-t)*Math.sqrt(1-(e=e/n-1)*e)+t},easeInOutCirc:function(e,t,i,n){var o=i-t;return(e/=n/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+t:o/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,i,n){var o,r,a,s=i-t;return a=1.70158,0===e?t:1==(e/=n)?t+s:(r=0,r=.3*n,(o=s)<Math.abs(s)?(o=s,a=r/4):a=r/(2*Math.PI)*Math.asin(s/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*n-a)*(2*Math.PI)/r)+t)},easeOutElastic:function(e,t,i,n){var o,r,a,s=i-t;return a=1.70158,0===e?t:1==(e/=n)?t+s:(r=0,r=.3*n,(o=s)<Math.abs(s)?(o=s,a=r/4):a=r/(2*Math.PI)*Math.asin(s/o),o*Math.pow(2,-10*e)*Math.sin((e*n-a)*(2*Math.PI)/r)+s+t)},easeInOutElastic:function(e,t,i,n){var o,r,a,s=i-t;return a=1.70158,0===e?t:2==(e/=n/2)?t+s:(r=0,r=n*(.3*1.5),(o=s)<Math.abs(s)?(o=s,a=r/4):a=r/(2*Math.PI)*Math.asin(s/o),e<1?-(o*Math.pow(2,10*(e-=1))*Math.sin((e*n-a)*(2*Math.PI)/r)*.5)+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*n-a)*(2*Math.PI)/r)*.5+s+t)},easeInBack:function(e,t,i,n,o){return void 0===o&&(o=1.70158),(i-t)*(e/=n)*e*((o+1)*e-o)+t},easeOutBack:function(e,t,i,n,o){return void 0===o&&(o=1.70158),(i-t)*((e=e/n-1)*e*((o+1)*e+o)+1)+t},easeInOutBack:function(e,t,i,n,o){var r=i-t;return void 0===o&&(o=1.70158),(e/=n/2)<1?r/2*(e*e*((1+(o*=1.525))*e-o))+t:r/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+t},easeInBounce:function(e,t,i,o){var r=i-t;return r-n.easeOutBounce(o-e,0,r,o)+t},easeOutBounce:function(e,t,i,n){var o=i-t;return(e/=n)<1/2.75?o*(7.5625*e*e)+t:e<2/2.75?o*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?o*(7.5625*(e-=2.25/2.75)*e+.9375)+t:o*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,i,o){var r=i-t;return e<o/2?.5*n.easeInBounce(2*e,0,r,o)+t:.5*n.easeOutBounce(2*e-o,0,r,o)+.5*r+t}};e.exports=n},function(e,t,i){e.exports=i(3)},function(e,t,i){"use strict";i.r(t),i.d(t,"ReactConfetti",function(){return R});var n,o,r,a,s=i(0),c=i.n(s),l=i(1),u=i.n(l);function d(e,t){return e+Math.random()*(t-e)}function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}(n=r||(r={}))[n.Circle=0]="Circle",n[n.Square=1]="Square",n[n.Strip=2]="Strip",(o=a||(a={}))[o.Positive=1]="Positive",o[o.Negative=-1]="Negative";var p=function(){var e,t;function i(e,t,n,o){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,i),f(this,"context",void 0),f(this,"radius",void 0),f(this,"x",void 0),f(this,"y",void 0),f(this,"w",void 0),f(this,"h",void 0),f(this,"vx",void 0),f(this,"vy",void 0),f(this,"shape",void 0),f(this,"angle",void 0),f(this,"angularSpin",void 0),f(this,"color",void 0),f(this,"rotateY",void 0),f(this,"rotationDirection",void 0),f(this,"getOptions",void 0),this.getOptions=t;var r=this.getOptions(),s=r.colors,c=r.initialVelocityX,l=r.initialVelocityY;this.context=e,this.x=n,this.y=o,this.w=d(5,20),this.h=d(5,20),this.radius=d(5,10),this.vx="number"==typeof c?d(-c,c):d(c.min,c.max),this.vy="number"==typeof l?d(-l,0):d(l.min,l.max),this.shape=Math.floor(0+3*Math.random()),this.angle=d(0,360)*Math.PI/180,this.angularSpin=d(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=d(0,1),this.rotationDirection=d(0,1)?a.Positive:a.Negative}return e=[{key:"update",value:function(){var e=this.getOptions(),t=e.gravity,i=e.wind,n=e.friction,o=e.opacity,s=e.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=t,this.vx+=i,this.vx*=n,this.vy*=n,this.rotateY>=1&&this.rotationDirection===a.Positive?this.rotationDirection=a.Negative:this.rotateY<=-1&&this.rotationDirection===a.Negative&&(this.rotationDirection=a.Positive);var c=.1*this.rotationDirection;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,s&&"function"==typeof s)s.call(this,this.context);else switch(this.shape){case r.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case r.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case r.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}],h(i.prototype,e),t&&h(i,t),i}();function x(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=function e(t,i){var n=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),x(this,"canvas",void 0),x(this,"context",void 0),x(this,"getOptions",void 0),x(this,"x",0),x(this,"y",0),x(this,"w",0),x(this,"h",0),x(this,"lastNumberOfPieces",0),x(this,"tweenInitTime",Date.now()),x(this,"particles",[]),x(this,"particlesGenerated",0),x(this,"removeParticleAt",function(e){n.particles.splice(e,1)}),x(this,"getParticle",function(){var e=d(n.x,n.w+n.x),t=d(n.y,n.h+n.y);return new p(n.context,n.getOptions,e,t)}),x(this,"animate",function(){var e=n.canvas,t=n.context,i=n.particlesGenerated,o=n.lastNumberOfPieces,r=n.getOptions(),a=r.run,s=r.recycle,c=r.numberOfPieces,l=r.debug,u=r.tweenFunction,d=r.tweenDuration;if(!a)return!1;var h=n.particles.length,f=s?h:i,p=Date.now();if(f<c){o!==c&&(n.tweenInitTime=p,n.lastNumberOfPieces=c);for(var x=n.tweenInitTime,y=u(p-x>d?d:Math.max(0,p-x),f,c,d),v=Math.round(y-f),g=0;g<v;g++)n.particles.push(n.getParticle());n.particlesGenerated+=v}return l&&(t.font="12px sans-serif",t.fillStyle="#333",t.textAlign="right",t.fillText("Particles: ".concat(h),e.width-10,e.height-20)),n.particles.forEach(function(t,i){t.update(),(t.y>e.height||t.y<-100||t.x>e.width+100||t.x<-100)&&(s&&f<=c?n.particles[i]=n.getParticle():n.removeParticleAt(i))}),h>0||f<c}),this.canvas=t;var o=this.canvas.getContext("2d");if(!o)throw Error("Could not get canvas context");this.context=o,this.getOptions=i};function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach(function(t){m(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function b(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var S={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:u.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},w=function(){var e;function t(e,i){var n=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),m(this,"canvas",void 0),m(this,"context",void 0),m(this,"_options",void 0),m(this,"generator",void 0),m(this,"rafId",void 0),m(this,"setOptionsWithDefaults",function(e){var t={confettiSource:{x:0,y:0,w:n.canvas.width,h:0}};n._options=g(g(g({},t),S),e),Object.assign(n,e.confettiSource)}),m(this,"update",function(){var e=n.options,t=e.run,i=e.onConfettiComplete,o=n.canvas,r=n.context;t&&(r.fillStyle="white",r.clearRect(0,0,o.width,o.height)),n.generator.animate()?n.rafId=requestAnimationFrame(n.update):(i&&"function"==typeof i&&n.generator.particlesGenerated>0&&i.call(n,n),n._options.run=!1)}),m(this,"reset",function(){n.generator&&n.generator.particlesGenerated>0&&(n.generator.particlesGenerated=0,n.generator.particles=[],n.generator.lastNumberOfPieces=0)}),m(this,"stop",function(){n.options={run:!1},n.rafId&&(cancelAnimationFrame(n.rafId),n.rafId=void 0)}),this.canvas=e;var o=this.canvas.getContext("2d");if(!o)throw Error("Could not get canvas context");this.context=o,this.generator=new y(this.canvas,function(){return n.options}),this.options=i,this.update()}return b(t.prototype,[{key:"options",get:function(){return this._options},set:function(e){var t=this._options&&this._options.run,i=this._options&&this._options.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof e.recycle&&e.recycle&&!1===i&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof e.run&&e.run&&!1===t&&this.update()}}]),e&&b(t,e),t}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach(function(t){N(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function C(e,t){if(e){if("string"==typeof e)return I(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function M(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var z=c.a.createRef(),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(r,e);var t,i,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i,n=k(r);if(t){var o=k(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(e=i)&&("object"===_(e)||"function"==typeof e)?e:E(this)});function r(e){var t;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r);for(var i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return N(E(t=o.call.apply(o,[this,e].concat(n))),"canvas",c.a.createRef()),N(E(t),"confetti",void 0),t.canvas=e.canvasRef||z,t}return i=[{key:"componentDidMount",value:function(){if(this.canvas.current){var e=A(this.props)[0];this.confetti=new w(this.canvas.current,e)}}},{key:"componentDidUpdate",value:function(){var e=A(this.props)[0];this.confetti&&(this.confetti.options=e)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var e,t=function(e){if(Array.isArray(e))return e}(e=A(this.props))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}}(e,2)||C(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=t[0],n=t[1],o=P({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},n.style);return c.a.createElement("canvas",O({width:i.width,height:i.height,ref:this.canvas},n,{style:o}))}}],M(r.prototype,i),n&&M(r,n),r}(s.Component);function A(e){var t,i={},n={},o=[].concat(function(e){if(Array.isArray(e))return I(e)}(t=Object.keys(S))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||C(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["confettiSource","drawShape","onConfettiComplete"]),r=["canvasRef"];for(var a in e){var s=e[a];o.includes(a)?i[a]=s:r.includes(a)?r[a]=s:n[a]=s}return[i,n,{}]}N(D,"defaultProps",P({},S)),N(D,"displayName","ReactConfetti");var R=c.a.forwardRef(function(e,t){return c.a.createElement(D,O({canvasRef:t},e))});t.default=R}]).default)}},function(e){e.O(0,[346,850,231,894,774,888,179],function(){return e(e.s=34)}),_N_E=e.O()}]);