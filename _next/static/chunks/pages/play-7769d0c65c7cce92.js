(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{34:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play",function(){return i(2339)}])},587:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var n=i(5893),o=i(3695),r=i.n(o),a=i(887),s=i(4285);function c(t){let{id:e,children:i}=t,{attributes:o,listeners:c,setNodeRef:l,transform:u}=(0,a.O1)({id:e}),d={transform:s.ux.Translate.toString(u)};return(0,n.jsx)("h1",{ref:l,style:d,...c,...o,className:r().dragBoxCont,children:i})}},2104:function(t,e,i){"use strict";i.d(e,{Z:function(){return s}});var n=i(5893),o=i(887),r=i(3695),a=i.n(r);function s(t){let{id:e,children:i,type:r}=t,{isOver:s,setNodeRef:c}=(0,o.Zj)({id:e});return(0,n.jsx)("div",{ref:c,className:"".concat("unsolved"===r?"".concat(a().dropBoxContUnsolved):"".concat(a().dropBoxContSolved)),children:i})}},9763:function(t,e,i){"use strict";i.d(e,{Z:function(){return s}});var n=i(5893),o=i(7717),r=i.n(o),a=i(6147);function s(t){let{box:e}=t;return(0,n.jsx)("div",{className:r().playBoxCont,children:(0,n.jsxs)("div",{className:r().playBoxContSides,children:[(0,n.jsx)("div",{className:"".concat(r().playBoxSides," ").concat(r().playBoxSideLeft),children:(0,n.jsx)(a.Z,{expression:e.left.equation})}),(0,n.jsx)("div",{className:"".concat(r().playBoxSides," ").concat(r().playBoxSideRight),children:(0,n.jsx)(a.Z,{expression:e.right.equation})}),(0,n.jsx)("div",{className:"".concat(r().playBoxSides," ").concat(r().playBoxSideTop),children:(0,n.jsx)(a.Z,{expression:e.top.equation})}),(0,n.jsx)("div",{className:"".concat(r().playBoxSides," ").concat(r().playBoxSideBottom),children:(0,n.jsx)(a.Z,{expression:e.bottom.equation})})]})})}},2339:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return j}});var n=i(5893),o=i(9008),r=i.n(o),a=i(3695),s=i.n(a),c=i(7294),l=i(6403),u=i(9763),d=i(887),h=i(587),f=i(2104);let p=[[{index:1,side:"right",otherSide:"left"},{index:3,side:"bottom",otherSide:"top"}],[{index:0,side:"left",otherSide:"right"},{index:2,side:"right",otherSide:"left"},{index:4,side:"bottom",otherSide:"top"}],[{index:1,side:"left",otherSide:"right"},{index:5,side:"bottom",otherSide:"top"}],[{index:0,side:"top",otherSide:"bottom"},{index:4,side:"right",otherSide:"left"},{index:6,side:"bottom",otherSide:"top"}],[{index:3,side:"left",otherSide:"right"},{index:5,side:"right",otherSide:"left"},{index:1,side:"top",otherSide:"bottom"},{index:7,side:"bottom",otherSide:"top"}],[{index:2,side:"top",otherSide:"bottom"},{index:4,side:"left",otherSide:"right"},{index:8,side:"bottom",otherSide:"top"}],[{index:7,side:"right",otherSide:"left"},{index:3,side:"top",otherSide:"bottom"}],[{index:6,side:"left",otherSide:"right"},{index:8,side:"right",otherSide:"left"},{index:4,side:"top",otherSide:"bottom"}],[{index:7,side:"left",otherSide:"right"},{index:5,side:"top",otherSide:"bottom"}]],x=[[{index:1,side:"right",otherSide:"left"},{index:4,side:"bottom",otherSide:"top"}],[{index:0,side:"left",otherSide:"right"},{index:2,side:"right",otherSide:"left"},{index:5,side:"bottom",otherSide:"top"}],[{index:1,side:"left",otherSide:"right"},{index:3,side:"right",otherSide:"left"},{index:6,side:"bottom",otherSide:"top"}],[{index:2,side:"left",otherSide:"right"},{index:7,side:"bottom",otherSide:"top"}],[{index:5,side:"right",otherSide:"left"},{index:0,side:"top",otherSide:"bottom"},{index:8,side:"bottom",otherSide:"top"}],[{index:4,side:"left",otherSide:"right"},{index:6,side:"right",otherSide:"left"},{index:9,side:"bottom",otherSide:"top"},{index:1,side:"top",otherSide:"bottom"}],[{index:5,side:"left",otherSide:"right"},{index:7,side:"right",otherSide:"left"},{index:10,side:"bottom",otherSide:"top"},{index:2,side:"top",otherSide:"bottom"}],[{index:6,side:"left",otherSide:"right"},{index:11,side:"bottom",otherSide:"top"},{index:3,side:"top",otherSide:"bottom"}],[{index:9,side:"right",otherSide:"left"},{index:4,side:"top",otherSide:"bottom"},{index:12,side:"bottom",otherSide:"top"}],[{index:8,side:"left",otherSide:"right"},{index:10,side:"right",otherSide:"left"},{index:13,side:"bottom",otherSide:"top"},{index:5,side:"top",otherSide:"bottom"}],[{index:9,side:"left",otherSide:"right"},{index:11,side:"right",otherSide:"left"},{index:14,side:"bottom",otherSide:"top"},{index:6,side:"top",otherSide:"bottom"}],[{index:10,side:"left",otherSide:"right"},{index:15,side:"bottom",otherSide:"top"},{index:7,side:"top",otherSide:"bottom"}],[{index:13,side:"right",otherSide:"left"},{index:8,side:"top",otherSide:"bottom"}],[{index:12,side:"left",otherSide:"right"},{index:14,side:"right",otherSide:"left"},{index:9,side:"top",otherSide:"bottom"}],[{index:13,side:"left",otherSide:"right"},{index:15,side:"right",otherSide:"left"},{index:10,side:"top",otherSide:"bottom"}],[{index:14,side:"left",otherSide:"right"},{index:11,side:"top",otherSide:"bottom"}]];var y=i(4053),v=i(8844),g=i(1163),b=function(){let[t,e]=(0,c.useState)({width:0,height:0}),i=()=>{e({width:window.innerWidth,height:window.innerHeight})};return(0,c.useEffect)(()=>{i(),window.addEventListener("resize",i)},[]),t},m=i(725),S=i.n(m);function w(){let{width:t,height:e}=b();return(0,n.jsx)(S(),{width:t,height:e})}var O=i(3478),_=i(4507);function j(){let t=(0,y.useSupabaseClient)(),[e,i]=(0,c.useState)(!0),[o,a]=(0,c.useState)(l.a3),[b,m]=(0,c.useState)(null),[S,j]=(0,c.useState)([]),[P,M]=(0,c.useState)([]),[C,I]=(0,c.useState)(null),[B,k]=(0,c.useState)(null),[E,N]=(0,c.useState)(null),[z,D]=(0,c.useState)(null),[A,R]=(0,c.useState)(null),[T,q]=(0,c.useState)(null),[F,Z]=(0,c.useState)(null);(0,g.useRouter)();let{query:Q,isReady:G}=(0,g.useRouter)();function L(t,e){let i=null;return t.every((t,n)=>{if(t.id===e){i=n;return}return!0}),i}function U(t){return parseInt(t.split("-")[1])}return(0,c.useEffect)(()=>{let e=async(e,n)=>{let o="puzzles";"admin"===n&&(o="admin_puzzles");let{data:r,error:s}=await t.from(o).select("*").eq("id",e).eq("show",!0);if(r&&r.length<=0||s){console.log({puzzle:r,error:s}),Z("Beklager ingen puslespil fundet."),i(null);return}let c=r[0].boxes.data,l=r[0].size,u=r[0].image,d=function(t){let e=t.length,i;for(;0!=e;)i=Math.floor(Math.random()*e),e--,[t[e],t[i]]=[t[i],t[e]];return t}(c);m(l),a(d);let h=new Audio(_.jk.beep),f=new Audio(_.jk.winAudio);q(f),R(h);let{data:p}=t.storage.from("images").getPublicUrl(u);N(p.publicUrl),i(null)},n=async t=>{t&&(Q&&Q.id&&Q.type&&Q.id.length>30&&Q.id.length<40?await e(Q.id,Q.type):(Z("Beklager ugyldig puslespils-URL."),i(null)))};n(G)},[G]),(0,c.useEffect)(()=>{o&&o.length>0&&(j(()=>{let t=[];return o.forEach((e,i)=>{t.push({id:"puzzlePice-".concat(i),data:e,component:(0,n.jsx)(h.Z,{id:"puzzlePice-".concat(i),children:(0,n.jsx)(u.Z,{box:e})},"puzzlePice-".concat(i))})}),t}),M(()=>{let t=[];return o.forEach((e,i)=>{t.push({})}),t}))},[o]),(0,c.useEffect)(()=>{if(P.length>0){let t=P.every(t=>!t||!!t.id);if(t){let e=P.every((t,e)=>{let i;return P.length<10?i=function(t,e,i){let n=p[i];return n.every(i=>{let n=t[i.index];if(n&&!n.id);else{let{data:t}=n,o=e.data[i.side],r=t[i.otherSide];if(e.data.id===t.id)return!0;if(o.connect_id!==r.connect_id)return!1}return!0})}(P,t,e):P.length>10&&(i=function(t,e,i){let n=x[i];return n.every(i=>{let n=t[i.index];if(n&&!n.id);else{let{data:t}=n,o=e.data[i.side],r=t[i.otherSide];if(e.data.id===t.id)return!0;if(o.connect_id!==r.connect_id)return!1}return!0})}(P,t,e)),i});e?(I(t),t&&T.play()):(D(!0),setTimeout(()=>{D(null)},5e3))}}},[P]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:"Math Puzzle | Play"}),(0,n.jsx)("meta",{name:"description",content:"A math puzzle that students can solve and teachers can create new puzzles. share with student to solve."}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),e?(0,n.jsx)(v.Z,{}):(0,n.jsxs)("main",{className:s().container,style:{touchAction:"none",overflow:"hidden",height:"100vh",height:"100dvh"},children:[F?(0,n.jsx)("h1",{children:F}):(0,n.jsxs)(n.Fragment,{children:[C?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(w,{})}):(0,n.jsxs)(d.LB,{onDragStart:function(t){let e=t.active.id,i=L(S,e),n=L(P,e),o=null;null!==i&&i>=0?o={...S[i]}:null!==n&&n>=0&&(o={...P[n]}),k(o)},onDragEnd:function(t){let{over:e}=t;if(null===e){let t={...B},e=L(S,t.id);if(L(P,t.id),null!==e&&e>=0);else{let e=L(P,t.id);M(t=>{let i=[...t];return i[e]={},i}),j(e=>{let i=[...e];return i.unshift(t),i})}}if(e&&e.id){let t={...B},i=L(S,t.id),n=L(P,t.id);if(null!==i&&i>=0&&"unsolved"!==e.id){let i=U(e.id);if(!P[i].id){let e=L(S,t.id);M(e=>{let n=[...e];return n[i]=t,n}),j(t=>{let i=[...t];return i.splice(e,1),i}),A.play()}}else if(null!==n&&n>=0&&"unsolved"===e.id){let e=L(P,t.id);M(t=>{let i=[...t];return i[e]={},i}),j(e=>{let i=[...e];return i.unshift(t),i}),A.play()}else if(null!==n&&n>=0&&"unsolved"!==e.id){let i=U(e.id);if(i!==n&&!P[i].id){let e=L(P,t.id);M(n=>{let o=[...n];return o[e]={},o[i]=t,o}),A.play()}}}k(null)},children:[(0,n.jsx)("h1",{className:s().title,children:"Velkommen til Geeksters puslespil: l\xe6g brikkerne vha. matematik"}),(0,n.jsx)("div",{className:"".concat(s().gridContainer," ").concat("4x4"===b&&"".concat(s().gridContainer4)),children:P.map((t,e)=>(0,n.jsx)(f.Z,{id:"solvable-".concat(e),type:"solved",children:(0,n.jsx)("div",{className:"".concat(s().puzzlePlace," ").concat(t&&t.id&&"".concat(s().puzzlePlaced)),children:t&&t.id?t.component:(0,n.jsx)("h4",{className:s().placePlaceholder,children:"L\xe6g brik"})})},"solvable-".concat(e)))}),(0,n.jsx)("div",{className:s().unsolvedPieces,children:(0,n.jsx)(f.Z,{id:"unsolved",type:"unsolved",children:S.map(t=>t.component)})}),(0,n.jsx)(d.y9,{children:B&&B.id?B.component:null}),z&&(0,n.jsx)("div",{className:s().looseContainer,onClick:()=>D(null),children:(0,n.jsx)("h1",{className:s().looseMessage,children:"Der er nogle brikker der ikke passer sammen endnu Pr\xf8v igen"})})]}),(0,n.jsx)("img",{className:"".concat(s().winImage," ").concat(!C&&"".concat(s().hideImage)),src:E,alt:"win-image"})]}),(0,n.jsx)(O.Z,{})]})]})}},3695:function(t){t.exports={container:"play_container__KAmub",title:"play_title__KvsLy",gridContainer:"play_gridContainer__0IwKn",gridContainer4:"play_gridContainer4__2HoiM",puzzlePlace:"play_puzzlePlace__CxmhQ",unsolvedPieces:"play_unsolvedPieces__dtZVC",dropBoxContUnsolved:"play_dropBoxContUnsolved__iyLA2",dragBoxCont:"play_dragBoxCont__BnRH3",placePlaceholder:"play_placePlaceholder__wnNry",puzzlePlaced:"play_puzzlePlaced__slUfd",winImage:"play_winImage__9s_ac",looseContainer:"play_looseContainer__Y89i9",looseMessage:"play_looseMessage__I71qP",hideImage:"play_hideImage__qItYG"}},7717:function(t){t.exports={playBoxCont:"playBox_playBoxCont__woE88",playBoxContSides:"playBox_playBoxContSides__4MKQk",playBoxSides:"playBox_playBoxSides__Ld1cW",playBoxSideLeft:"playBox_playBoxSideLeft__KkEcQ",playBoxSideRight:"playBox_playBoxSideRight__yGGMj",playBoxSideTop:"playBox_playBoxSideTop__X7xMt",playBoxSideBottom:"playBox_playBoxSideBottom__GsRxO"}},725:function(t,e,i){var n;"undefined"!=typeof self&&self,t.exports=(n=i(7294),function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,(function(e){return t[e]}).bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e){t.exports=n},function(t,e,i){"use strict";var n={linear:function(t,e,i,n){return(i-e)*t/n+e},easeInQuad:function(t,e,i,n){return(i-e)*(t/=n)*t+e},easeOutQuad:function(t,e,i,n){return-(i-e)*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,i,n){var o=i-e;return(t/=n/2)<1?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,n){return(i-e)*(t/=n)*t*t+e},easeOutCubic:function(t,e,i,n){return(i-e)*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,n){var o=i-e;return(t/=n/2)<1?o/2*t*t*t+e:o/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,n){return(i-e)*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,i,n){return-(i-e)*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,n){var o=i-e;return(t/=n/2)<1?o/2*t*t*t*t+e:-o/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,n){return(i-e)*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,i,n){return(i-e)*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,n){var o=i-e;return(t/=n/2)<1?o/2*t*t*t*t*t+e:o/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,n){var o=i-e;return-o*Math.cos(t/n*(Math.PI/2))+o+e},easeOutSine:function(t,e,i,n){return(i-e)*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,i,n){return-(i-e)/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,i,n){return 0==t?e:(i-e)*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,i,n){var o=i-e;return t==n?e+o:o*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,i,n){var o=i-e;return 0===t?e:t===n?e+o:(t/=n/2)<1?o/2*Math.pow(2,10*(t-1))+e:o/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,n){return-(i-e)*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,i,n){return(i-e)*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,i,n){var o=i-e;return(t/=n/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+e:o/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,n){var o,r,a,s=i-e;return a=1.70158,0===t?e:1==(t/=n)?e+s:(r=0,r=.3*n,(o=s)<Math.abs(s)?(o=s,a=r/4):a=r/(2*Math.PI)*Math.asin(s/o),-o*Math.pow(2,10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/r)+e)},easeOutElastic:function(t,e,i,n){var o,r,a,s=i-e;return a=1.70158,0===t?e:1==(t/=n)?e+s:(r=0,r=.3*n,(o=s)<Math.abs(s)?(o=s,a=r/4):a=r/(2*Math.PI)*Math.asin(s/o),o*Math.pow(2,-10*t)*Math.sin((t*n-a)*(2*Math.PI)/r)+s+e)},easeInOutElastic:function(t,e,i,n){var o,r,a,s=i-e;return a=1.70158,0===t?e:2==(t/=n/2)?e+s:(r=0,r=n*(.3*1.5),(o=s)<Math.abs(s)?(o=s,a=r/4):a=r/(2*Math.PI)*Math.asin(s/o),t<1?-(o*Math.pow(2,10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/r)*.5)+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/r)*.5+s+e)},easeInBack:function(t,e,i,n,o){return void 0===o&&(o=1.70158),(i-e)*(t/=n)*t*((o+1)*t-o)+e},easeOutBack:function(t,e,i,n,o){return void 0===o&&(o=1.70158),(i-e)*((t=t/n-1)*t*((o+1)*t+o)+1)+e},easeInOutBack:function(t,e,i,n,o){var r=i-e;return void 0===o&&(o=1.70158),(t/=n/2)<1?r/2*(t*t*((1+(o*=1.525))*t-o))+e:r/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+e},easeInBounce:function(t,e,i,o){var r=i-e;return r-n.easeOutBounce(o-t,0,r,o)+e},easeOutBounce:function(t,e,i,n){var o=i-e;return(t/=n)<1/2.75?o*(7.5625*t*t)+e:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+e:o*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,i,o){var r=i-e;return t<o/2?.5*n.easeInBounce(2*t,0,r,o)+e:.5*n.easeOutBounce(2*t-o,0,r,o)+.5*r+e}};t.exports=n},function(t,e,i){t.exports=i(3)},function(t,e,i){"use strict";i.r(e),i.d(e,"ReactConfetti",function(){return R});var n,o,r,a,s=i(0),c=i.n(s),l=i(1),u=i.n(l);function d(t,e){return t+Math.random()*(e-t)}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}(n=r||(r={}))[n.Circle=0]="Circle",n[n.Square=1]="Square",n[n.Strip=2]="Strip",(o=a||(a={}))[o.Positive=1]="Positive",o[o.Negative=-1]="Negative";var p=function(){var t,e;function i(t,e,n,o){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,i),f(this,"context",void 0),f(this,"radius",void 0),f(this,"x",void 0),f(this,"y",void 0),f(this,"w",void 0),f(this,"h",void 0),f(this,"vx",void 0),f(this,"vy",void 0),f(this,"shape",void 0),f(this,"angle",void 0),f(this,"angularSpin",void 0),f(this,"color",void 0),f(this,"rotateY",void 0),f(this,"rotationDirection",void 0),f(this,"getOptions",void 0),this.getOptions=e;var r=this.getOptions(),s=r.colors,c=r.initialVelocityX,l=r.initialVelocityY;this.context=t,this.x=n,this.y=o,this.w=d(5,20),this.h=d(5,20),this.radius=d(5,10),this.vx="number"==typeof c?d(-c,c):d(c.min,c.max),this.vy="number"==typeof l?d(-l,0):d(l.min,l.max),this.shape=Math.floor(0+3*Math.random()),this.angle=d(0,360)*Math.PI/180,this.angularSpin=d(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=d(0,1),this.rotationDirection=d(0,1)?a.Positive:a.Negative}return t=[{key:"update",value:function(){var t=this.getOptions(),e=t.gravity,i=t.wind,n=t.friction,o=t.opacity,s=t.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=e,this.vx+=i,this.vx*=n,this.vy*=n,this.rotateY>=1&&this.rotationDirection===a.Positive?this.rotationDirection=a.Negative:this.rotateY<=-1&&this.rotationDirection===a.Negative&&(this.rotationDirection=a.Positive);var c=.1*this.rotationDirection;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,s&&"function"==typeof s)s.call(this,this.context);else switch(this.shape){case r.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case r.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case r.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}],h(i.prototype,t),e&&h(i,e),i}();function x(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y=function t(e,i){var n=this;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),x(this,"canvas",void 0),x(this,"context",void 0),x(this,"getOptions",void 0),x(this,"x",0),x(this,"y",0),x(this,"w",0),x(this,"h",0),x(this,"lastNumberOfPieces",0),x(this,"tweenInitTime",Date.now()),x(this,"particles",[]),x(this,"particlesGenerated",0),x(this,"removeParticleAt",function(t){n.particles.splice(t,1)}),x(this,"getParticle",function(){var t=d(n.x,n.w+n.x),e=d(n.y,n.h+n.y);return new p(n.context,n.getOptions,t,e)}),x(this,"animate",function(){var t=n.canvas,e=n.context,i=n.particlesGenerated,o=n.lastNumberOfPieces,r=n.getOptions(),a=r.run,s=r.recycle,c=r.numberOfPieces,l=r.debug,u=r.tweenFunction,d=r.tweenDuration;if(!a)return!1;var h=n.particles.length,f=s?h:i,p=Date.now();if(f<c){o!==c&&(n.tweenInitTime=p,n.lastNumberOfPieces=c);for(var x=n.tweenInitTime,y=u(p-x>d?d:Math.max(0,p-x),f,c,d),v=Math.round(y-f),g=0;g<v;g++)n.particles.push(n.getParticle());n.particlesGenerated+=v}return l&&(e.font="12px sans-serif",e.fillStyle="#333",e.textAlign="right",e.fillText("Particles: ".concat(h),t.width-10,t.height-20)),n.particles.forEach(function(e,i){e.update(),(e.y>t.height||e.y<-100||e.x>t.width+100||e.x<-100)&&(s&&f<=c?n.particles[i]=n.getParticle():n.removeParticleAt(i))}),h>0||f<c}),this.canvas=e;var o=this.canvas.getContext("2d");if(!o)throw Error("Could not get canvas context");this.context=o,this.getOptions=i};function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach(function(e){m(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var S={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:u.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},w=function(){var t;function e(t,i){var n=this;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,e),m(this,"canvas",void 0),m(this,"context",void 0),m(this,"_options",void 0),m(this,"generator",void 0),m(this,"rafId",void 0),m(this,"setOptionsWithDefaults",function(t){var e={confettiSource:{x:0,y:0,w:n.canvas.width,h:0}};n._options=g(g(g({},e),S),t),Object.assign(n,t.confettiSource)}),m(this,"update",function(){var t=n.options,e=t.run,i=t.onConfettiComplete,o=n.canvas,r=n.context;e&&(r.fillStyle="white",r.clearRect(0,0,o.width,o.height)),n.generator.animate()?n.rafId=requestAnimationFrame(n.update):(i&&"function"==typeof i&&n.generator.particlesGenerated>0&&i.call(n,n),n._options.run=!1)}),m(this,"reset",function(){n.generator&&n.generator.particlesGenerated>0&&(n.generator.particlesGenerated=0,n.generator.particles=[],n.generator.lastNumberOfPieces=0)}),m(this,"stop",function(){n.options={run:!1},n.rafId&&(cancelAnimationFrame(n.rafId),n.rafId=void 0)}),this.canvas=t;var o=this.canvas.getContext("2d");if(!o)throw Error("Could not get canvas context");this.context=o,this.generator=new y(this.canvas,function(){return n.options}),this.options=i,this.update()}return b(e.prototype,[{key:"options",get:function(){return this._options},set:function(t){var e=this._options&&this._options.run,i=this._options&&this._options.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof t.recycle&&t.recycle&&!1===i&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof t.run&&t.run&&!1===e&&this.update()}}]),t&&b(e,t),e}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(){return(_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function j(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function P(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?j(Object(i),!0).forEach(function(e){N(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function M(t,e){if(t){if("string"==typeof t)return C(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?C(t,e):void 0}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function I(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var z=c.a.createRef(),D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(r,t);var e,i,n,o=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,i,n=E(r);if(e){var o=E(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(t=i)&&("object"===O(t)||"function"==typeof t)?t:k(this)});function r(t){var e;!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r);for(var i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return N(k(e=o.call.apply(o,[this,t].concat(n))),"canvas",c.a.createRef()),N(k(e),"confetti",void 0),e.canvas=t.canvasRef||z,e}return i=[{key:"componentDidMount",value:function(){if(this.canvas.current){var t=A(this.props)[0];this.confetti=new w(this.canvas.current,t)}}},{key:"componentDidUpdate",value:function(){var t=A(this.props)[0];this.confetti&&(this.confetti.options=t)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var t,e=function(t){if(Array.isArray(t))return t}(t=A(this.props))||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}}(t,2)||M(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=e[0],n=e[1],o=P({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},n.style);return c.a.createElement("canvas",_({width:i.width,height:i.height,ref:this.canvas},n,{style:o}))}}],I(r.prototype,i),n&&I(r,n),r}(s.Component);function A(t){var e,i={},n={},o=[].concat(function(t){if(Array.isArray(t))return C(t)}(e=Object.keys(S))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(e)||M(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["confettiSource","drawShape","onConfettiComplete"]),r=["canvasRef"];for(var a in t){var s=t[a];o.includes(a)?i[a]=s:r.includes(a)?r[a]=s:n[a]=s}return[i,n,{}]}N(D,"defaultProps",P({},S)),N(D,"displayName","ReactConfetti");var R=c.a.forwardRef(function(t,e){return c.a.createElement(D,_({canvasRef:e},t))});e.default=R}]).default)}},function(t){t.O(0,[265,850,133,894,774,888,179],function(){return t(t.s=34)}),_N_E=t.O()}]);